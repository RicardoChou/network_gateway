[INFO][2022-04-02T18:17:11.614][log.go:44] _com_request_in||spanid=6842285678629a0f||uri=/service/service_add_tcp||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"open_auth\": 0,\n  \"port\": 8999,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||cspanid=||method=POST||args=map[]||traceid=0a0a0af1624822a7b06014c5658221b0
[INFO][2022-04-02T18:17:11.614][log.go:44] _com_request_out||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"IP列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af1624822a7b06014c5658221b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddTcpInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:152\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:544\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.002853747||traceid=0a0a0af1624822a7b06014c5658221b0||spanid=6842285678629a0f||uri=/service/service_add_tcp||method=POST||args=map[]||cspanid=
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_request_in||uri=/service/service_list?page_size=10&page_no=1||method=GET||args=map[]||body=||from=127.0.0.1||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:88||sql=SELECT * FROM `gateway_service_info` WHERE is_delete=0 ORDER BY id desc LIMIT 10||rows=9||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT count(*) FROM `gateway_service_info` WHERE is_delete=0 LIMIT 10||rows=1||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:93||cspanid=||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||rows=1||proc_time=1||traceid=0a0a0af1624822b857d814c5104dc7b0||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 63||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 63||rows=0||proc_time=0||current_time=2022-04-02 18:17:28||cspanid=||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 63||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=0||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 63||rows=1||cspanid=||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 63||proc_time=1||cspanid=||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 62||rows=1||proc_time=0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 62||rows=0||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 62||rows=0||current_time=2022-04-02 18:17:28||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 62||proc_time=0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 62||rows=1||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||cspanid=||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 61||proc_time=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 61||rows=0||proc_time=0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 61||rows=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||proc_time=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=1||proc_time=0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 61||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=1||proc_time=0||current_time=2022-04-02 18:17:28||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 61||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 60||rows=1||proc_time=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 60||cspanid=||rows=0||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||rows=0||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 60||cspanid=
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 60||proc_time=0||cspanid=||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||cspanid=||traceid=0a0a0af1624822b857d814c5104dc7b0||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 60||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||traceid=0a0a0af1624822b857d814c5104dc7b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 59||current_time=2022-04-02 18:17:28||spanid=68422849380704bb||rows=1||proc_time=0||cspanid=
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 59||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||rows=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 59||current_time=2022-04-02 18:17:28||cspanid=||rows=0||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 59||rows=1||proc_time=0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 59||proc_time=0||cspanid=||spanid=68422849380704bb||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||current_time=2022-04-02 18:17:28||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 58||rows=0||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 58||rows=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb||proc_time=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 58||rows=1||current_time=2022-04-02 18:17:28||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-02 18:17:28||cspanid=||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 58||rows=1||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 58||rows=1||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 57||rows=0||proc_time=1||current_time=2022-04-02 18:17:28||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 57||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||rows=1||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=0||proc_time=0||cspanid=||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 57||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||current_time=2022-04-02 18:17:28||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 57||rows=1||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 57||rows=1||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||rows=1||current_time=2022-04-02 18:17:28||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 56||proc_time=0||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=0||spanid=68422849380704bb||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 56||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=0||proc_time=0||current_time=2022-04-02 18:17:28||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 56||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||cspanid=||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 56||rows=1||proc_time=0||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 56||rows=1||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||traceid=0a0a0af1624822b857d814c5104dc7b0||spanid=68422849380704bb||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 55||current_time=2022-04-02 18:17:28||proc_time=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||rows=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=1||traceid=0a0a0af1624822b857d814c5104dc7b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 55||cspanid=||spanid=68422849380704bb||proc_time=0||current_time=2022-04-02 18:17:28
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 55||rows=0||proc_time=0||spanid=68422849380704bb
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-02 18:17:28||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||rows=1||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 55
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-02 18:17:28||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||spanid=68422849380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 55||proc_time=0
[INFO][2022-04-02T18:17:28.912][log.go:44] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":9,\"list\":[{\"id\":63,\"service_name\":\"test_http_string\",\"service_desc\":\"test_http_string\",\"load_type\":0,\"service_addr\":\"/test_http_string\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":62,\"service_name\":\"test_http_service_indb\",\"service_desc\":\"test_http_service_modify\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":61,\"service_name\":\"test_https_server\",\"service_desc\":\"测试https服务\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_https_server\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"10.10.10.198:8080/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"10.10.10.198:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":55,\"service_name\":\"test_tcp_service1\",\"service_desc\":\"redis服务代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8010\",\"qps\":0,\"qpd\":0,\"total_node\":1}]},\"trace_id\":\"0a0a0af1624822b857d814c5104dc7b0\",\"stack\":null}||spanid=68422849380704bb||args=map[]||from=127.0.0.1||proc_time=0.04040363||traceid=0a0a0af1624822b857d814c5104dc7b0||cspanid=||uri=/service/service_list?page_size=10&page_no=1||method=GET
[INFO][2022-04-02T18:17:56.872][log.go:44] _com_request_in||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"10.10.10.198\",\n  \"open_auth\": 0,\n  \"port\": 8999,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=0a0a0af1624822d417f014c55a8581b0||cspanid=||spanid=6842282557e9d186||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1
[INFO][2022-04-02T18:17:56.872][log.go:44] _com_request_out||method=POST||traceid=0a0a0af1624822d417f014c55a8581b0||proc_time=0.002048838||cspanid=||spanid=6842282557e9d186||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"IP列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af1624822d417f014c55a8581b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddTcpInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:152\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:544\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}
[INFO][2022-04-02T18:18:01.632][log.go:44] _com_request_in||uri=/service/service_add_tcp||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"10.10.10.198:8011\",\n  \"open_auth\": 0,\n  \"port\": 8999,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||cspanid=||args=map[]||traceid=0a0a0af1624822d9a23014c566cb39b0||spanid=684228281408d2ac
[INFO][2022-04-02T18:18:01.632][log.go:44] _com_request_out||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af1624822d9a23014c566cb39b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddTcpInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:152\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:544\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af1624822d9a23014c566cb39b0||uri=/service/service_add_tcp||cspanid=||spanid=684228281408d2ac||proc_time=0.001923275
[INFO][2022-04-02T18:18:13.050][log.go:44] _com_request_in||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"10.10.10.198:8011\",\n  \"open_auth\": 0,\n  \"port\": 8011,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||uri=/service/service_add_tcp||args=map[]||traceid=0a0a0af1624822e5e07014c5697f48b0||cspanid=||spanid=68422814268447a4
[INFO][2022-04-02T18:18:13.050][log.go:44] _com_mysql_success||spanid=68422814268447a4||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:112||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'string' ORDER BY `gateway_service_info`.`id` LIMIT 1||rows=0||current_time=2022-04-02 18:18:13||cspanid=||proc_time=1||traceid=0a0a0af1624822e5e07014c5697f48b0
[INFO][2022-04-02T18:18:13.050][log.go:44] _com_mysql_success||spanid=68422814268447a4||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:32||proc_time=0||current_time=2022-04-02 18:18:13||cspanid=||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`port` = 8011 ORDER BY `gateway_service_tcp_rule`.`id` LIMIT 1||rows=1||traceid=0a0a0af1624822e5e07014c5697f48b0
[INFO][2022-04-02T18:18:13.050][log.go:44] _com_request_out||cspanid=||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||traceid=0a0a0af1624822e5e07014c5697f48b0||method=POST||response={\"errno\":2003,\"errmsg\":\"服务端口被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"0a0a0af1624822e5e07014c5697f48b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:574\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004019275||spanid=68422814268447a4
[INFO][2022-04-02T18:18:49.067][log.go:44] _com_request_in||traceid=0a0a0af162482309bee014c5f27cc6b0||cspanid=||spanid=684229f868255aaf||uri=/service/service_add_tcp||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8012\",\n  \"open_auth\": 0,\n  \"port\": 8012,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"测试tcp添加功能\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||method=POST
[INFO][2022-04-02T18:18:49.067][log.go:44] _com_request_out||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"服务名称 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af162482309bee014c5f27cc6b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddTcpInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:152\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:544\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||cspanid=||uri=/service/service_add_tcp||method=POST||args=map[]||proc_time=0.001931101||traceid=0a0a0af162482309bee014c5f27cc6b0||spanid=684229f868255aaf
[INFO][2022-04-02T18:18:49.067][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8012\",\n  \"open_auth\": 0,\n  \"port\": 8012,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"测试tcp添加功能\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a0a0af162482309460814c56cffa2b0||uri=/service/service_add_tcp||method=POST||args=map[]||cspanid=||spanid=684229f830b95ff1
[INFO][2022-04-02T18:18:49.067][log.go:44] _com_request_out||proc_time=0.001772325||traceid=0a0a0af162482309460814c56cffa2b0||cspanid=||method=POST||args=map[]||from=127.0.0.1||uri=/service/service_add_tcp||response={\"errno\":2000,\"errmsg\":\"服务名称 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af162482309460814c56cffa2b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddTcpInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:152\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:544\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||spanid=684229f830b95ff1
[INFO][2022-04-02T18:19:19.741][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8012\",\n  \"open_auth\": 0,\n  \"port\": 8012,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||cspanid=||spanid=684229d63c04951a||uri=/service/service_add_tcp||method=POST||args=map[]||from=127.0.0.1||traceid=0a0a0af162482327a8a014c5b62158b0
[INFO][2022-04-02T18:19:19.741][log.go:44] _com_mysql_success||spanid=684229d63c04951a||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:112||rows=0||proc_time=2||traceid=0a0a0af162482327a8a014c5b62158b0||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_add_tcp_service' ORDER BY `gateway_service_info`.`id` LIMIT 1||current_time=2022-04-02 18:19:19||cspanid=
[INFO][2022-04-02T18:19:19.741][log.go:44] _com_mysql_success||spanid=684229d63c04951a||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:32||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`port` = 8012 ORDER BY `gateway_service_tcp_rule`.`id` LIMIT 1||proc_time=0||traceid=0a0a0af162482327a8a014c5b62158b0||cspanid=||rows=0||current_time=2022-04-02 18:19:19
[INFO][2022-04-02T18:19:19.741][log.go:44] _com_mysql_success||current_time=2022-04-02 18:19:19||spanid=684229d63c04951a||rows=1||proc_time=0||traceid=0a0a0af162482327a8a014c5b62158b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:33||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`port` = 8012 ORDER BY `gateway_service_grpc_rule`.`id` LIMIT 1
[INFO][2022-04-02T18:19:19.741][log.go:44] _com_request_out||method=POST||response={\"errno\":2004,\"errmsg\":\"服务端口被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"0a0a0af162482327a8a014c5b62158b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:582\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af162482327a8a014c5b62158b0||cspanid=||spanid=684229d63c04951a||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||proc_time=0.006619287
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_request_in||uri=/service/service_add_tcp||from=127.0.0.1||traceid=0a0a0af162482344359814c53a768bb0||cspanid=||spanid=684229b525845c95||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8088\",\n  \"open_auth\": 0,\n  \"port\": 8088,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-02 18:19:48||traceid=0a0a0af162482344359814c53a768bb0||spanid=684229b525845c95||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:112||rows=0||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_add_tcp_service' ORDER BY `gateway_service_info`.`id` LIMIT 1||cspanid=
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`port` = 8088 ORDER BY `gateway_service_tcp_rule`.`id` LIMIT 1||current_time=2022-04-02 18:19:48||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:32||proc_time=0||traceid=0a0a0af162482344359814c53a768bb0||spanid=684229b525845c95||rows=0
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||cspanid=||spanid=684229b525845c95||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`port` = 8088 ORDER BY `gateway_service_grpc_rule`.`id` LIMIT 1||rows=0||proc_time=0||current_time=2022-04-02 18:19:48||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:33||traceid=0a0a0af162482344359814c53a768bb0
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:121||current_time=2022-04-02 18:19:48||spanid=684229b525845c95||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`create_at`,`update_at`,`is_delete`) VALUES (1,'test_add_tcp_service','测试tcp添加功能','2022-04-02 18:19:48.248','2022-04-02 18:19:48.248',0)||rows=1||proc_time=5||traceid=0a0a0af162482344359814c53a768bb0||cspanid=
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:43||traceid=0a0a0af162482344359814c53a768bb0||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES (64,0,0,0,0,'10.10.10.198:8088','50','',0,0,0,0)||rows=1||proc_time=2||current_time=2022-04-02 18:19:48||cspanid=||spanid=684229b525845c95
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||sql=INSERT INTO `gateway_service_tcp_rule` (`service_id`,`port`) VALUES (64,8088)||rows=1||traceid=0a0a0af162482344359814c53a768bb0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:39||proc_time=1||current_time=2022-04-02 18:19:48||spanid=684229b525845c95
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:35||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES (64,0,'','string','string',0,0)||proc_time=0||current_time=2022-04-02 18:19:48||rows=1||traceid=0a0a0af162482344359814c53a768bb0||cspanid=||spanid=684229b525845c95
[INFO][2022-04-02T18:19:48.238][log.go:44] _com_request_out||proc_time=0.019514028||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af162482344359814c53a768bb0\",\"stack\":null}||traceid=0a0a0af162482344359814c53a768bb0||cspanid=||spanid=684229b525845c95||uri=/service/service_add_tcp||method=POST
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_request_in||spanid=6842298f78629a0f||cspanid=||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8088\",\n  \"open_auth\": 0,\n  \"port\": 8088,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a0a0af16248237e9a2814e6658221b0||uri=/service/service_add_tcp
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_add_tcp_service' ORDER BY `gateway_service_info`.`id` LIMIT 1||traceid=0a0a0af16248237e9a2814e6658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:112||proc_time=1||current_time=2022-04-02 18:20:46||cspanid=||spanid=6842298f78629a0f||rows=0
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`port` = 8088 ORDER BY `gateway_service_tcp_rule`.`id` LIMIT 1||spanid=6842298f78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:32||rows=0||proc_time=0||current_time=2022-04-02 18:20:46||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||proc_time=0||spanid=6842298f78629a0f||rows=0||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`port` = 8088 ORDER BY `gateway_service_grpc_rule`.`id` LIMIT 1||current_time=2022-04-02 18:20:46||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:33
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||cspanid=||spanid=6842298f78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:121||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`create_at`,`update_at`,`is_delete`) VALUES (1,'test_add_tcp_service','测试tcp添加功能','2022-04-02 18:20:46.933','2022-04-02 18:20:46.933',0)||proc_time=0||traceid=0a0a0af16248237e9a2814e6658221b0||rows=1||current_time=2022-04-02 18:20:46
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||current_time=2022-04-02 18:20:46||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:43||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES (65,0,0,0,0,'10.10.10.198:8088','50','',0,0,0,0)||rows=1||proc_time=1||spanid=6842298f78629a0f
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-02 18:20:46||spanid=6842298f78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:39||sql=INSERT INTO `gateway_service_tcp_rule` (`service_id`,`port`) VALUES (65,8088)||rows=1||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=
[INFO][2022-04-02T18:20:46.927][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-02 18:20:46||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:35||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES (65,0,'','string','string',0,0)||spanid=6842298f78629a0f||proc_time=0
[INFO][2022-04-02T18:20:47.068][log.go:44] _com_request_out||method=POST||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16248237e9a2814e6658221b0\",\"stack\":null}||proc_time=0.141414067||spanid=6842298f78629a0f||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||traceid=0a0a0af16248237e9a2814e6658221b0||cspanid=
[INFO][2022-04-02T18:20:56.839][log.go:44] _com_request_in||uri=/service/service_add_tcp||method=POST||traceid=0a0a0af162482388cf0814e6104dc7b0||cspanid=||spanid=68422979380704bb||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"\",\n  \"header_transfor\": \"\",\n  \"ip_list\": \"10.10.10.198:8088\",\n  \"open_auth\": 0,\n  \"port\": 8088,\n  \"round_type\": 0,\n  \"service_desc\": \"测试tcp添加功能\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1
[INFO][2022-04-02T18:20:56.839][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:112||rows=1||proc_time=0||cspanid=||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_add_tcp_service' ORDER BY `gateway_service_info`.`id` LIMIT 1||current_time=2022-04-02 18:20:56||traceid=0a0a0af162482388cf0814e6104dc7b0||spanid=68422979380704bb
[INFO][2022-04-02T18:20:56.839][log.go:44] _com_request_out||proc_time=0.002835447||response={\"errno\":2002,\"errmsg\":\"服务名被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"0a0a0af162482388cf0814e6104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:564\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af162482388cf0814e6104dc7b0||cspanid=||spanid=68422979380704bb||uri=/service/service_add_tcp||method=POST||args=map[]||from=127.0.0.1
