[INFO][2022-04-01T20:00:12.732][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"123.45.234.32:235\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/test_htt_service\",\n  \"rule_type\": 0,\n  \"service_desc\": \"234\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwbgz\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246e94cfb90099b5a8581b0||cspanid=||spanid=684ce3bd57e9d186||uri=/service/service_add_http||args=map[]||from=127.0.0.1||method=POST
[INFO][2022-04-01T20:00:12.732][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:96||rows=0||current_time=2022-04-01 20:00:12||traceid=0a0a0af16246e94cfb90099b5a8581b0||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwbgz' ORDER BY `gateway_service_info`.`id` LIMIT 1||proc_time=1||cspanid=||spanid=684ce3bd57e9d186
[INFO][2022-04-01T20:00:12.732][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||rows=0||proc_time=0||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule` = '/test_htt_service' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||current_time=2022-04-01 20:00:12||traceid=0a0a0af16246e94cfb90099b5a8581b0||cspanid=||spanid=684ce3bd57e9d186
[INFO][2022-04-01T20:00:12.732][log.go:44] _com_request_out||cspanid=||method=POST||from=127.0.0.1||proc_time=0.003533067||traceid=0a0a0af16246e94cfb90099b5a8581b0||spanid=684ce3bd57e9d186||uri=/service/service_add_http||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246e94cfb90099b5a8581b0\",\"stack\":null}
[INFO][2022-04-01T20:00:16.803][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"123.45.234.32:235\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/test_htt_service\",\n  \"rule_type\": 0,\n  \"service_desc\": \"234\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_tcp_service\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||method=POST||args=map[]||from=127.0.0.1||traceid=0a0a0af16246e9503ce0099b66cb39b0||cspanid=||spanid=684ce3a11408d2ac||uri=/service/service_add_http
[INFO][2022-04-01T20:00:16.803][log.go:44] _com_mysql_success||traceid=0a0a0af16246e9503ce0099b66cb39b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:96||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_tcp_service' ORDER BY `gateway_service_info`.`id` LIMIT 1||proc_time=1||spanid=684ce3a11408d2ac||rows=1||current_time=2022-04-01 20:00:16
[INFO][2022-04-01T20:00:16.803][log.go:44] _com_request_out||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246e9503ce0099b66cb39b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:214\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||cspanid=||uri=/service/service_add_http||method=POST||proc_time=0.003002164||traceid=0a0a0af16246e9503ce0099b66cb39b0||spanid=684ce3a11408d2ac||args=map[]||from=127.0.0.1
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_request_in||args=map[]||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||uri=/service/service_list?page_size=20&page_no=1||method=GET||body=||from=127.0.0.1
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=7||current_time=2022-04-01 20:02:14||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:81||proc_time=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_info` WHERE is_delete=0 ORDER BY id desc LIMIT 20
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:86||sql=SELECT count(*) FROM `gateway_service_info` WHERE is_delete=0 LIMIT 20||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f||rows=1||proc_time=0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 61 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||rows=1||proc_time=1||current_time=2022-04-01 20:02:14||cspanid=||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=0||spanid=684ce33778629a0f||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 61||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 61||rows=0||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||rows=1||current_time=2022-04-01 20:02:14||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 61||proc_time=0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 61||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 60 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 60||rows=0||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||proc_time=0||cspanid=||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 60||rows=0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=1||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 60||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 60||rows=1||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 59 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||proc_time=0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 59
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 59||rows=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||proc_time=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 59||rows=1||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=1||proc_time=0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 59||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=0||proc_time=0||current_time=2022-04-01 20:02:14||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 58 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||cspanid=||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 58||rows=0||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=1||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 58||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 58||proc_time=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||rows=1||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 58||rows=1||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||rows=0||proc_time=0||current_time=2022-04-01 20:02:14||cspanid=||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 57 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||traceid=0a0a0af16246e9c63a1009b9658221b0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 57||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||proc_time=0||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 57||rows=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 57||rows=1||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 57||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||spanid=684ce33778629a0f||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 56 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||spanid=684ce33778629a0f||rows=0||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 56
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 56||rows=0||proc_time=0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||cspanid=
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 56||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||cspanid=||spanid=684ce33778629a0f||traceid=0a0a0af16246e9c63a1009b9658221b0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=1||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 56||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||rows=0||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 55 ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||proc_time=0||current_time=2022-04-01 20:02:14
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 20:02:14||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=||spanid=684ce33778629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 55||rows=1||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||current_time=2022-04-01 20:02:14||cspanid=||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 55||rows=0||proc_time=0||traceid=0a0a0af16246e9c63a1009b9658221b0
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f||rows=1||current_time=2022-04-01 20:02:14||proc_time=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 55
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 55||rows=1||proc_time=0||current_time=2022-04-01 20:02:14||spanid=684ce33778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||traceid=0a0a0af16246e9c63a1009b9658221b0||cspanid=
[INFO][2022-04-01T20:02:14.670][log.go:44] _com_request_out||traceid=0a0a0af16246e9c63a1009b9658221b0||spanid=684ce33778629a0f||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":7,\"list\":[{\"id\":61,\"service_name\":\"test_https_server\",\"service_desc\":\"测试https服务\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_https_server\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"10.10.10.198:8080/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"10.10.10.198:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":55,\"service_name\":\"test_tcp_service1\",\"service_desc\":\"redis服务代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8010\",\"qps\":0,\"qpd\":0,\"total_node\":1}]},\"trace_id\":\"0a0a0af16246e9c63a1009b9658221b0\",\"stack\":null}||proc_time=0.029350544||cspanid=||uri=/service/service_list?page_size=20&page_no=1||method=GET||args=map[]
[INFO][2022-04-01T20:02:50.583][log.go:44] _com_request_in||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"123.45.234.32:235\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"test.com\",\n  \"rule_type\": 1,\n  \"service_desc\": \"234\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"1111\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||spanid=684ce31b380704bb||uri=/service/service_add_http||from=127.0.0.1||traceid=0a0a0af16246e9ea48e009b9104dc7b0||cspanid=||args=map[]
[INFO][2022-04-01T20:02:50.583][log.go:44] _com_request_out||method=POST||proc_time=0.002248447||response={\"errno\":2000,\"errmsg\":\"服务名 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af16246e9ea48e009b9104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:38\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:192\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af16246e9ea48e009b9104dc7b0||cspanid=||spanid=684ce31b380704bb||uri=/service/service_add_http||args=map[]||from=127.0.0.1
[INFO][2022-04-01T20:02:58.093][log.go:44] _com_request_in||traceid=0a0a0af16246e9f20a2009b95a8581b0||cspanid=||spanid=684ce30357e9d186||uri=/service/service_add_http||from=127.0.0.1||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"123.45.234.32:235\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"test.com\",\n  \"rule_type\": 1,\n  \"service_desc\": \"234\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"352325\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||method=POST||args=map[]
[INFO][2022-04-01T20:02:58.093][log.go:44] _com_mysql_success||cspanid=||spanid=684ce30357e9d186||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:96||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = '352325' ORDER BY `gateway_service_info`.`id` LIMIT 1||traceid=0a0a0af16246e9f20a2009b95a8581b0||rows=0||proc_time=1||current_time=2022-04-01 20:02:58
[INFO][2022-04-01T20:02:58.093][log.go:44] _com_mysql_success||current_time=2022-04-01 20:02:58||traceid=0a0a0af16246e9f20a2009b95a8581b0||cspanid=||spanid=684ce30357e9d186||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule_type` = 1 AND `gateway_service_http_rule`.`rule` = 'test.com' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||proc_time=0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:32||rows=1
[INFO][2022-04-01T20:02:58.093][log.go:44] _com_request_out||uri=/service/service_add_http||from=127.0.0.1||traceid=0a0a0af16246e9f20a2009b95a8581b0||spanid=684ce30357e9d186||cspanid=||method=POST||args=map[]||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246e9f20a2009b95a8581b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:221\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004000792
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_request_in||method=GET||from=127.0.0.1||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||uri=/service/service_list?page_size=20&page_no=1||args=map[]||body=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=7||proc_time=1||current_time=2022-04-01 20:10:50||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:81||sql=SELECT * FROM `gateway_service_info` WHERE is_delete=0 ORDER BY id desc LIMIT 20||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:86||sql=SELECT count(*) FROM `gateway_service_info` WHERE is_delete=0 LIMIT 20||current_time=2022-04-01 20:10:50||rows=1||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||proc_time=1||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 61||rows=1||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 61||rows=0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 61||current_time=2022-04-01 20:10:50||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=0||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 61||rows=1||proc_time=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 61||proc_time=0||cspanid=||traceid=0a0a0af16246ebcab2d00a01658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=1||proc_time=0||current_time=2022-04-01 20:10:50||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 60
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 60||rows=0||proc_time=0||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 60||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||rows=0||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 60||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-01 20:10:50||rows=1
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 60||rows=1||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||proc_time=0||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||cspanid=||traceid=0a0a0af16246ebcab2d00a01658221b0||rows=1||proc_time=0||current_time=2022-04-01 20:10:50||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 59
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 59||rows=0||proc_time=0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 59||rows=0||current_time=2022-04-01 20:10:50||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 59||rows=1||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||cspanid=||spanid=684ce13b78629a0f||traceid=0a0a0af16246ebcab2d00a01658221b0||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 59||proc_time=0||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 58||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||rows=0||proc_time=0||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=0||proc_time=0||current_time=2022-04-01 20:10:50||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 58
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=1||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 58||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 58||rows=1||proc_time=0||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 20:10:50||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 58||rows=1||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 57||rows=0||proc_time=0||current_time=2022-04-01 20:10:50||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 57||rows=1||current_time=2022-04-01 20:10:50||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 57||proc_time=0||rows=0||current_time=2022-04-01 20:10:50
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 57||current_time=2022-04-01 20:10:50||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||rows=1||proc_time=0||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 57||proc_time=0||cspanid=||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 20:10:50||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 56||traceid=0a0a0af16246ebcab2d00a01658221b0||rows=1
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 56||rows=0||proc_time=0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 56||rows=0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||rows=1||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 56||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 56||rows=1||proc_time=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=0||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 55||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||cspanid=||spanid=684ce13b78629a0f||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 55||rows=1
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||rows=0||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 55
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 55||rows=1||proc_time=0||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||spanid=684ce13b78629a0f
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 55||spanid=684ce13b78629a0f||current_time=2022-04-01 20:10:50||traceid=0a0a0af16246ebcab2d00a01658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||rows=1||proc_time=0
[INFO][2022-04-01T20:10:50.885][log.go:44] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":7,\"list\":[{\"id\":61,\"service_name\":\"test_https_server\",\"service_desc\":\"测试https服务\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_https_server\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"10.10.10.198:8080/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"10.10.10.198:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":55,\"service_name\":\"test_tcp_service1\",\"service_desc\":\"redis服务代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8010\",\"qps\":0,\"qpd\":0,\"total_node\":1}]},\"trace_id\":\"0a0a0af16246ebcab2d00a01658221b0\",\"stack\":null}||spanid=684ce13b78629a0f||uri=/service/service_list?page_size=20&page_no=1||method=GET||from=127.0.0.1||cspanid=||args=map[]||proc_time=0.027622112||traceid=0a0a0af16246ebcab2d00a01658221b0
[INFO][2022-04-01T20:11:50.385][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/adf/sf\",\n  \"rule_type\": 1,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||cspanid=||method=POST||args=map[]||traceid=0a0a0af16246ec0610880a01104dc7b0||spanid=684ce6f7380704bb||uri=/service/service_add_http
[INFO][2022-04-01T20:11:50.385][log.go:44] _com_request_out||method=POST||from=127.0.0.1||response={\"errno\":2004,\"errmsg\":\"IP列表与权重列表数量不一致\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec0610880a01104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:200\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af16246ec0610880a01104dc7b0||spanid=684ce6f7380704bb||uri=/service/service_add_http||proc_time=0.002293745||cspanid=||args=map[]
[INFO][2022-04-01T20:11:56.517][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/adf/sf\",\n  \"rule_type\": 1,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246ec0c6d600a015a8581b0||spanid=684ce6fd57e9d186||uri=/service/service_add_http||method=POST||cspanid=||args=map[]||from=127.0.0.1
[INFO][2022-04-01T20:11:56.517][log.go:44] _com_mysql_success||spanid=684ce6fd57e9d186||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||rows=0||proc_time=1||current_time=2022-04-01 20:11:56||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc' ORDER BY `gateway_service_info`.`id` LIMIT 1||traceid=0a0a0af16246ec0c6d600a015a8581b0||cspanid=
[INFO][2022-04-01T20:11:56.517][log.go:44] _com_mysql_success||current_time=2022-04-01 20:11:56||traceid=0a0a0af16246ec0c6d600a015a8581b0||cspanid=||spanid=684ce6fd57e9d186||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule_type` = 1 AND `gateway_service_http_rule`.`rule` = '/adf/sf' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||rows=0||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||proc_time=0
[INFO][2022-04-01T20:11:56.517][log.go:44] _com_request_out||traceid=0a0a0af16246ec0c6d600a015a8581b0||cspanid=||spanid=684ce6fd57e9d186||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec0c6d600a015a8581b0\",\"stack\":null}||uri=/service/service_add_http||proc_time=0.004152446
[INFO][2022-04-01T20:12:12.957][log.go:44] _com_request_in||method=POST||from=127.0.0.1||spanid=684ce6ed1408d2ac||cspanid=||uri=/service/service_add_http||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/adf/sf\",\n  \"rule_type\": 1,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_https_server\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246ec1ce4680a0166cb39b0
[INFO][2022-04-01T20:12:12.957][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_https_server' ORDER BY `gateway_service_info`.`id` LIMIT 1||rows=1||proc_time=2||spanid=684ce6ed1408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||current_time=2022-04-01 20:12:12||traceid=0a0a0af16246ec1ce4680a0166cb39b0||cspanid=
[INFO][2022-04-01T20:12:12.957][log.go:44] _com_request_out||spanid=684ce6ed1408d2ac||args=map[]||proc_time=0.005280922||traceid=0a0a0af16246ec1ce4680a0166cb39b0||cspanid=||uri=/service/service_add_http||method=POST||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec1ce4680a0166cb39b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:214\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}
[INFO][2022-04-01T20:13:31.279][log.go:44] _com_request_in||traceid=0a0a0af16246ec6b47100a01697f48b0||cspanid=||spanid=684ce69a268447a4||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/test_strip_uri\",\n  \"rule_type\": 0,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||uri=/service/service_add_http||method=POST
[INFO][2022-04-01T20:13:31.279][log.go:44] _com_mysql_success||rows=0||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc' ORDER BY `gateway_service_info`.`id` LIMIT 1||proc_time=1||current_time=2022-04-01 20:13:31||traceid=0a0a0af16246ec6b47100a01697f48b0||cspanid=||spanid=684ce69a268447a4||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105
[INFO][2022-04-01T20:13:31.279][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||rows=1||current_time=2022-04-01 20:13:31||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule` = '/test_strip_uri' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||proc_time=0||traceid=0a0a0af16246ec6b47100a01697f48b0||cspanid=||spanid=684ce69a268447a4
[INFO][2022-04-01T20:13:31.279][log.go:44] _com_request_out||method=POST||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec6b47100a01697f48b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:221\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004016872||traceid=0a0a0af16246ec6b47100a01697f48b0||spanid=684ce69a268447a4||uri=/service/service_add_http||from=127.0.0.1||cspanid=||args=map[]
[INFO][2022-04-01T20:13:39.615][log.go:44] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"test_strip_uri\",\n  \"rule_type\": 0,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246ec73db900a01f27cc6b0||cspanid=||spanid=684ce68268255aaf
[INFO][2022-04-01T20:13:39.615][log.go:44] _com_mysql_success||rows=0||proc_time=1||traceid=0a0a0af16246ec73db900a01f27cc6b0||cspanid=||spanid=684ce68268255aaf||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc' ORDER BY `gateway_service_info`.`id` LIMIT 1||current_time=2022-04-01 20:13:39
[INFO][2022-04-01T20:13:39.615][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||rows=0||proc_time=0||current_time=2022-04-01 20:13:39||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule` = 'test_strip_uri' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||traceid=0a0a0af16246ec73db900a01f27cc6b0||cspanid=||spanid=684ce68268255aaf
[INFO][2022-04-01T20:13:39.615][log.go:44] _com_request_out||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec73db900a01f27cc6b0\",\"stack\":null}||method=POST||args=map[]||traceid=0a0a0af16246ec73db900a01f27cc6b0||cspanid=||spanid=684ce68268255aaf||uri=/service/service_add_http||proc_time=0.003629726
[INFO][2022-04-01T20:13:59.395][log.go:44] _com_request_in||method=POST||cspanid=||spanid=684ce67630b95ff1||uri=/service/service_add_http||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/sdf\",\n  \"rule_type\": 0,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_strip_uri\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246ec87ab380a016cffa2b0
[INFO][2022-04-01T20:13:59.395][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-01 20:13:59||spanid=684ce67630b95ff1||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_strip_uri' ORDER BY `gateway_service_info`.`id` LIMIT 1||proc_time=2||traceid=0a0a0af16246ec87ab380a016cffa2b0
[INFO][2022-04-01T20:13:59.395][log.go:44] _com_request_out||cspanid=||spanid=684ce67630b95ff1||uri=/service/service_add_http||args=map[]||from=127.0.0.1||traceid=0a0a0af16246ec87ab380a016cffa2b0||method=POST||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec87ab380a016cffa2b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:214\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.00455812
[INFO][2022-04-01T20:14:19.260][log.go:44] _com_request_in||spanid=684ce66a3c04951a||uri=/service/service_add_http||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"test.com\",\n  \"rule_type\": 0,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||cspanid=||method=POST||args=map[]||traceid=0a0a0af16246ec9b9db00a01b62158b0
[INFO][2022-04-01T20:14:19.260][log.go:44] _com_mysql_success||proc_time=1||current_time=2022-04-01 20:14:19||cspanid=||spanid=684ce66a3c04951a||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc' ORDER BY `gateway_service_info`.`id` LIMIT 1||rows=0||traceid=0a0a0af16246ec9b9db00a01b62158b0
[INFO][2022-04-01T20:14:19.260][log.go:44] _com_mysql_success||spanid=684ce66a3c04951a||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||rows=1||proc_time=1||current_time=2022-04-01 20:14:19||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule` = 'test.com' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||traceid=0a0a0af16246ec9b9db00a01b62158b0||cspanid=
[INFO][2022-04-01T20:14:19.260][log.go:44] _com_request_out||traceid=0a0a0af16246ec9b9db00a01b62158b0||spanid=684ce66a3c04951a||uri=/service/service_add_http||from=127.0.0.1||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246ec9b9db00a01b62158b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:221\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004360263||method=POST||args=map[]||cspanid=
[INFO][2022-04-01T20:14:24.106][log.go:44] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||cspanid=||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"test.com\",\n  \"rule_type\": 1,\n  \"service_desc\": \"asgcx\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"235,548\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246eca0d9e00a013a768bb0||spanid=684ce65125845c95
[INFO][2022-04-01T20:14:24.106][log.go:44] _com_mysql_success||spanid=684ce65125845c95||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc' ORDER BY `gateway_service_info`.`id` LIMIT 1||proc_time=1||current_time=2022-04-01 20:14:24||rows=0||traceid=0a0a0af16246eca0d9e00a013a768bb0||cspanid=
[INFO][2022-04-01T20:14:24.106][log.go:44] _com_mysql_success||rows=1||proc_time=0||current_time=2022-04-01 20:14:24||traceid=0a0a0af16246eca0d9e00a013a768bb0||cspanid=||spanid=684ce65125845c95||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule_type` = 1 AND `gateway_service_http_rule`.`rule` = 'test.com' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1
[INFO][2022-04-01T20:14:24.106][log.go:44] _com_request_out||uri=/service/service_add_http||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246eca0d9e00a013a768bb0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:221\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.003551051||spanid=684ce65125845c95||method=POST||args=map[]||from=127.0.0.1||traceid=0a0a0af16246eca0d9e00a013a768bb0||cspanid=
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_request_in||uri=/service/service_add_http||args=map[]||from=127.0.0.1||cspanid=||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/test_http_service_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_service_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_service_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,30\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246f41cb2080a97658221b0||spanid=684cfeed78629a0f
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_http_service_indb' ORDER BY `gateway_service_info`.`id` LIMIT 1||rows=0||current_time=2022-04-01 20:46:20||proc_time=1||traceid=0a0a0af16246f41cb2080a97658221b0||spanid=684cfeed78629a0f
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||rows=0||proc_time=0||traceid=0a0a0af16246f41cb2080a97658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:41||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule` = '/test_http_service_indb' ORDER BY `gateway_service_http_rule`.`id` LIMIT 1||current_time=2022-04-01 20:46:20||spanid=684cfeed78629a0f
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||rows=1||spanid=684cfeed78629a0f||traceid=0a0a0af16246f41cb2080a97658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:114||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`create_at`,`update_at`,`is_delete`) VALUES (0,'test_http_service_indb','test_http_service_indb','2022-04-01 20:46:20.384','2022-04-01 20:46:20.384',0)||proc_time=0||current_time=2022-04-01 20:46:20
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||traceid=0a0a0af16246f41cb2080a97658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:48||sql=INSERT INTO `gateway_service_http_rule` (`service_id`,`rule_type`,`rule`,`need_https`,`need_websocket`,`need_strip_uri`,`url_rewrite`,`header_transfor`) VALUES (62,0,'/test_http_service_indb',1,1,1,'','')||rows=1||proc_time=0||current_time=2022-04-01 20:46:20||spanid=684cfeed78629a0f
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||spanid=684cfeed78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:35||traceid=0a0a0af16246f41cb2080a97658221b0||cspanid=||current_time=2022-04-01 20:46:20||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES (62,1,'','','',0,0)||rows=1||proc_time=0
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:43||rows=1||spanid=684cfeed78629a0f||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES (62,0,0,0,3,'127.42.45.14:345,123.53.67.3:562','50,30','',0,0,0,0)||proc_time=0||current_time=2022-04-01 20:46:20||traceid=0a0a0af16246f41cb2080a97658221b0||cspanid=
[INFO][2022-04-01T20:46:20.376][log.go:44] _com_request_out||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246f41cb2080a97658221b0\",\"stack\":null}||proc_time=0.147706473||spanid=684cfeed78629a0f||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||traceid=0a0a0af16246f41cb2080a97658221b0
[INFO][2022-04-01T20:46:22.986][log.go:44] _com_request_in||spanid=684cfeef380704bb||method=POST||from=127.0.0.1||traceid=0a0a0af16246f41ec1900a97104dc7b0||cspanid=||uri=/service/service_add_http||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.42.45.14:345,123.53.67.3:562\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/test_http_service_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_service_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_service_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,30\",\n  \"white_list\": \"\"\n}
[INFO][2022-04-01T20:46:22.986][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'test_http_service_indb' ORDER BY `gateway_service_info`.`id` LIMIT 1||rows=1||traceid=0a0a0af16246f41ec1900a97104dc7b0||spanid=684cfeef380704bb||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:105||current_time=2022-04-01 20:46:22||cspanid=||proc_time=0
[INFO][2022-04-01T20:46:22.986][log.go:44] _com_request_out||method=POST||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246f41ec1900a97104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:215\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.003767478||traceid=0a0a0af16246f41ec1900a97104dc7b0||cspanid=||spanid=684cfeef380704bb||uri=/service/service_add_http||args=map[]
