[INFO][2022-04-01T17:01:58.636][log.go:44] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||traceid=0a0a0af16246bf8671680567658221b0||spanid=684cb57778629a0f||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"string\",\n  \"rule_type\": 1,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||cspanid=
[INFO][2022-04-01T17:01:58.636][log.go:44] _com_request_out||from=127.0.0.1||proc_time=0.003058208||traceid=0a0a0af16246bf8671680567658221b0||args=map[]||method=POST||response={\"errno\":2000,\"errmsg\":\"url重写功能 不符合输入格式,header转换 不符合输入格式,ip列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af16246bf8671680567658221b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:38\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:192\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||cspanid=||spanid=684cb57778629a0f||uri=/service/service_add_http
[INFO][2022-04-01T17:03:02.735][log.go:44] _com_request_in||spanid=684cb537380704bb||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"127.8.1.1:8090\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/aaa/aaaa\",\n  \"rule_type\": 1,\n  \"service_desc\": \"1233\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||cspanid=||uri=/service/service_add_http||args=map[]||traceid=0a0a0af16246bfc6d4600567104dc7b0
[INFO][2022-04-01T17:03:02.735][log.go:44] _com_request_out||uri=/service/service_add_http||proc_time=0.002138015||cspanid=||spanid=684cb537380704bb||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"header转换 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af16246bfc6d4600567104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:38\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:192\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af16246bfc6d4600567104dc7b0
[INFO][2022-04-01T17:03:13.240][log.go:44] _com_request_in||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.8.1.1:8090\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/aaa/aaaa\",\n  \"rule_type\": 1,\n  \"service_desc\": \"1233\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"zhjwzc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246bfd10cb005675a8581b0||cspanid=||spanid=684cb52057e9d186||uri=/service/service_add_http||from=127.0.0.1||args=map[]
[INFO][2022-04-01T17:03:13.240][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'zhjwzc'||rows=0||proc_time=1||cspanid=||spanid=684cb52057e9d186||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||current_time=2022-04-01 17:03:13||traceid=0a0a0af16246bfd10cb005675a8581b0
[INFO][2022-04-01T17:03:13.240][log.go:44] _com_request_out||uri=/service/service_add_http||method=POST||proc_time=0.003715683||traceid=0a0a0af16246bfd10cb005675a8581b0||spanid=684cb52057e9d186||args=map[]||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246bfd10cb005675a8581b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:208\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||cspanid=
[INFO][2022-04-01T17:05:26.101][log.go:44] _com_request_in||traceid=0a0a0af16246c056d7e80581658221b0||cspanid=||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.3.12.4:5866\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/asss/as\",\n  \"rule_type\": 1,\n  \"service_desc\": \"213\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||spanid=684ccaa778629a0f||uri=/service/service_add_http||args=map[]
[INFO][2022-04-01T17:05:26.101][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||traceid=0a0a0af16246c056d7e80581658221b0||current_time=2022-04-01 17:05:26||cspanid=||spanid=684ccaa778629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||rows=0||proc_time=1
[INFO][2022-04-01T17:05:26.101][log.go:44] _com_request_out||method=POST||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c056d7e80581658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:208\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||uri=/service/service_add_http||args=map[]||from=127.0.0.1||proc_time=0.004737057||traceid=0a0a0af16246c056d7e80581658221b0||cspanid=||spanid=684ccaa778629a0f
[INFO][2022-04-01T17:08:07.196][log.go:44] _com_request_in||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||spanid=684cca0678629a0f||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246c0f7b24005ac658221b0
[INFO][2022-04-01T17:08:07.196][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||rows=0||proc_time=1||current_time=2022-04-01 17:08:07||traceid=0a0a0af16246c0f7b24005ac658221b0||spanid=684cca0678629a0f||cspanid=
[INFO][2022-04-01T17:08:07.196][log.go:44] _com_request_out||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c0f7b24005ac658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:208\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af16246c0f7b24005ac658221b0||spanid=684cca0678629a0f||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||proc_time=0.003971179||cspanid=
[INFO][2022-04-01T17:08:38.268][log.go:44] _com_request_in||body=||traceid=0a0a0af16246c116267805ac104dc7b0||cspanid=||spanid=684ccbe7380704bb||uri=/admin_login/logout||method=GET||args=map[]||from=127.0.0.1
[INFO][2022-04-01T17:08:38.268][log.go:44] _com_request_out||traceid=0a0a0af16246c116267805ac104dc7b0||cspanid=||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c116267805ac104dc7b0\",\"stack\":null}||proc_time=0.002066673||spanid=684ccbe7380704bb||uri=/admin_login/logout||args=map[]
[INFO][2022-04-01T17:08:44.552][log.go:44] _com_request_in||body={\n  \"password\": \"123456\",\n  \"username\": \"admin\"\n}||from=127.0.0.1||cspanid=||uri=/admin_login/login||method=POST||args=map[]||traceid=0a0a0af16246c11c9f6805ac5a8581b0||spanid=684ccbed57e9d186
[INFO][2022-04-01T17:08:44.552][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_admin` WHERE `gateway_admin`.`user_name` = 'admin'||proc_time=1||current_time=2022-04-01 17:08:44||spanid=684ccbed57e9d186||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/admin.go:50||rows=1||traceid=0a0a0af16246c11c9f6805ac5a8581b0||cspanid=
[INFO][2022-04-01T17:08:44.552][log.go:44] _com_request_out||method=POST||args=map[]||from=127.0.0.1||cspanid=||uri=/admin_login/login||proc_time=0.004084981||traceid=0a0a0af16246c11c9f6805ac5a8581b0||spanid=684ccbed57e9d186||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"token\":\"admin\"},\"trace_id\":\"0a0a0af16246c11c9f6805ac5a8581b0\",\"stack\":null}
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_request_in||spanid=684ccbd71408d2ac||method=GET||from=127.0.0.1||cspanid=||uri=/service/service_list?page_size=10&page_no=1||args=map[]||body=||traceid=0a0a0af16246c12638b005ac66cb39b0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE is_delete=0 ORDER BY id desc LIMIT 10||current_time=2022-04-01 17:08:54||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:81||rows=4||proc_time=1||traceid=0a0a0af16246c12638b005ac66cb39b0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:86||rows=1||current_time=2022-04-01 17:08:54||cspanid=||sql=SELECT count(*) FROM `gateway_service_info` WHERE is_delete=0 LIMIT 10||proc_time=1||traceid=0a0a0af16246c12638b005ac66cb39b0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 59||proc_time=2||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||rows=1||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||current_time=2022-04-01 17:08:54||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 59||rows=0||proc_time=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 59||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||proc_time=0||current_time=2022-04-01 17:08:54||rows=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 59||rows=1||proc_time=0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 59||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||rows=1||proc_time=2||spanid=684ccbd71408d2ac
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 58||rows=0||proc_time=0||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||proc_time=0||current_time=2022-04-01 17:08:54||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 58||rows=0||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||spanid=684ccbd71408d2ac
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-01 17:08:54||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 58||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac||proc_time=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||proc_time=0||current_time=2022-04-01 17:08:54||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 58||rows=1||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||proc_time=0||current_time=2022-04-01 17:08:54||spanid=684ccbd71408d2ac||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 58||rows=1||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||rows=0||proc_time=0||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 57
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||rows=1||proc_time=0||current_time=2022-04-01 17:08:54||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 57||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||traceid=0a0a0af16246c12638b005ac66cb39b0||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 57||current_time=2022-04-01 17:08:54||proc_time=0||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||rows=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 57||spanid=684ccbd71408d2ac||rows=1||proc_time=0||current_time=2022-04-01 17:08:54
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||rows=1||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 57||cspanid=||proc_time=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||traceid=0a0a0af16246c12638b005ac66cb39b0||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`service_id` = 56||rows=1||cspanid=||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||proc_time=0||current_time=2022-04-01 17:08:54
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule` WHERE `gateway_service_tcp_rule`.`service_id` = 56||current_time=2022-04-01 17:08:54||spanid=684ccbd71408d2ac||rows=0||proc_time=0||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||spanid=684ccbd71408d2ac||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_grpc_rule.go:25||sql=SELECT * FROM `gateway_service_grpc_rule` WHERE `gateway_service_grpc_rule`.`service_id` = 56||rows=0||proc_time=0||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control` WHERE `gateway_service_access_control`.`service_id` = 56||rows=1||proc_time=0||cspanid=||current_time=2022-04-01 17:08:54||traceid=0a0a0af16246c12638b005ac66cb39b0||spanid=684ccbd71408d2ac
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_load_balance.go:36||current_time=2022-04-01 17:08:54||spanid=684ccbd71408d2ac||traceid=0a0a0af16246c12638b005ac66cb39b0||cspanid=||sql=SELECT * FROM `gateway_service_load_balance` WHERE `gateway_service_load_balance`.`service_id` = 56||rows=1||proc_time=0
[INFO][2022-04-01T17:08:54.262][log.go:44] _com_request_out||cspanid=||spanid=684ccbd71408d2ac||uri=/service/service_list?page_size=10&page_no=1||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":4,\"list\":[{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"10.10.10.198:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"10.10.10.198:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"10.10.10.198:4433/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"0a0a0af16246c12638b005ac66cb39b0\",\"stack\":null}||traceid=0a0a0af16246c12638b005ac66cb39b0||method=GET||args=map[]||proc_time=0.026434619
[INFO][2022-04-01T17:10:42.991][log.go:44] _com_request_in||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||spanid=684ccb63268447a4||method=POST||traceid=0a0a0af16246c1926f9005ac697f48b0||cspanid=||uri=/service/service_add_http
[INFO][2022-04-01T17:10:42.991][log.go:44] _com_mysql_success||spanid=684ccb63268447a4||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||rows=0||current_time=2022-04-01 17:10:42||traceid=0a0a0af16246c1926f9005ac697f48b0||cspanid=||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||proc_time=2
[INFO][2022-04-01T17:10:42.991][log.go:44] _com_request_out||uri=/service/service_add_http||from=127.0.0.1||traceid=0a0a0af16246c1926f9005ac697f48b0||spanid=684ccb63268447a4||method=POST||args=map[]||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c1926f9005ac697f48b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:208\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.00452226||cspanid=
[INFO][2022-04-01T17:11:55.715][log.go:44] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||cspanid=||traceid=0a0a0af16246c1db262005fa658221b0||spanid=684ccb2a78629a0f
[INFO][2022-04-01T17:11:55.715][log.go:44] _com_mysql_success||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_http_rule.go:30||proc_time=1||spanid=684ccb2a78629a0f||cspanid=||sql=SELECT * FROM `gateway_service_http_rule` WHERE `gateway_service_http_rule`.`rule_type` = 1 AND `gateway_service_http_rule`.`rule` = '/ada/adg'||rows=0||current_time=2022-04-01 17:11:55||traceid=0a0a0af16246c1db262005fa658221b0
[INFO][2022-04-01T17:11:55.715][log.go:44] _com_request_out||uri=/service/service_add_http||method=POST||args=map[]||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c1db262005fa658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:215\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004299285||from=127.0.0.1||traceid=0a0a0af16246c1db262005fa658221b0||cspanid=||spanid=684ccb2a78629a0f
[INFO][2022-04-01T17:12:30.184][log.go:44] _com_request_in||traceid=0a0a0af16246c1fea0f00627658221b0||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||spanid=684ccb0f78629a0f
[INFO][2022-04-01T17:12:30.184][log.go:44] _com_request_out||method=POST||from=127.0.0.1||proc_time=0.002470505||traceid=0a0a0af16246c1fea0f00627658221b0||spanid=684ccb0f78629a0f||uri=/service/service_add_http||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c1fea0f00627658221b0\",\"stack\":null}||cspanid=
[INFO][2022-04-01T17:13:23.905][log.go:44] _com_request_in||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,21\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246c233ad880627104dc7b0||cspanid=||spanid=684cc8c2380704bb||uri=/service/service_add_http
[INFO][2022-04-01T17:13:23.905][log.go:44] _com_request_out||method=POST||from=127.0.0.1||spanid=684cc8c2380704bb||cspanid=||uri=/service/service_add_http||args=map[]||response={\"errno\":2004,\"errmsg\":\"IP列表与权重列表数量不一致\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c233ad880627104dc7b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:220\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.002388947||traceid=0a0a0af16246c233ad880627104dc7b0
[INFO][2022-04-01T17:13:27.932][log.go:44] _com_request_in||uri=/service/service_add_http||method=POST||from=127.0.0.1||spanid=684cc8c657e9d186||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50 21\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246c23709d006275a8581b0||cspanid=
[INFO][2022-04-01T17:13:27.932][log.go:44] _com_request_out||uri=/service/service_add_http||method=POST||spanid=684cc8c657e9d186||cspanid=||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c23709d006275a8581b0\",\"stack\":\"github.com/zhj/go_gateway/public.DefaultGetValidParams\\n\\t/Users/mac/go/src/github.com/go_gateway/public/params.go:32\\ngithub.com/zhj/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/mac/go/src/github.com/go_gateway/dto/service.go:38\\ngithub.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:192\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.001960247||traceid=0a0a0af16246c23709d006275a8581b0
[INFO][2022-04-01T17:13:40.150][log.go:44] _com_request_in||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56,127.32.5.6:55\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,21\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246c24498e0062766cb39b0||cspanid=||spanid=684cc8b51408d2ac||uri=/service/service_add_http||method=POST
[INFO][2022-04-01T17:13:40.150][log.go:44] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c24498e0062766cb39b0\",\"stack\":null}||cspanid=||method=POST||args=map[]||from=127.0.0.1||traceid=0a0a0af16246c24498e0062766cb39b0||spanid=684cc8b51408d2ac||uri=/service/service_add_http||proc_time=0.001945454
[INFO][2022-04-01T17:23:15.506][log.go:44] _com_request_in||uri=/service/service_add_http||args=map[]||traceid=0a0a0af16246c483f0a80669658221b0||cspanid=||spanid=684cce7278629a0f||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56,127.32.5.6:55\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,21\",\n  \"white_list\": \"\"\n}||from=127.0.0.1
[INFO][2022-04-01T17:23:15.506][log.go:44] _com_mysql_success||proc_time=0||spanid=684cce7278629a0f||rows=0||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||current_time=2022-04-01 17:23:15||traceid=0a0a0af16246c483f0a80669658221b0||cspanid=||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94
[INFO][2022-04-01T17:23:15.506][log.go:44] _com_request_out||from=127.0.0.1||cspanid=||spanid=684cce7278629a0f||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c483f0a80669658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:217\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.004013987||traceid=0a0a0af16246c483f0a80669658221b0||uri=/service/service_add_http||method=POST||args=map[]
[INFO][2022-04-01T17:23:59.096][log.go:44] _com_request_in||cspanid=||spanid=684cce5e78629a0f||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56,127.32.5.6:55\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,21\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=0a0a0af16246c4afd8180684658221b0||uri=/service/service_add_http
[INFO][2022-04-01T17:23:59.096][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||rows=0||proc_time=1||traceid=0a0a0af16246c4afd8180684658221b0||spanid=684cce5e78629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||current_time=2022-04-01 17:23:59||cspanid=
[INFO][2022-04-01T17:23:59.096][log.go:44] _com_request_out||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246c4afd8180684658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:217\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=0a0a0af16246c4afd8180684658221b0||proc_time=0.004653337||spanid=684cce5e78629a0f
[INFO][2022-04-01T17:59:48.791][log.go:44] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.32.5.6:56,127.32.5.6:55\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 1,\n  \"need_websocket\": 1,\n  \"open_auth\": 1,\n  \"round_type\": 3,\n  \"rule\": \"/ada/adg\",\n  \"rule_type\": 1,\n  \"service_desc\": \"12313\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"wzczhj\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50,21\",\n  \"white_list\": \"\"\n}||traceid=0a0a0af16246cd14d860070d658221b0||cspanid=||spanid=684cc7e578629a0f||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1
[INFO][2022-04-01T17:59:48.791][log.go:44] _com_mysql_success||sql=SELECT * FROM `gateway_service_info` WHERE `gateway_service_info`.`service_name` = 'wzczhj'||proc_time=1||spanid=684cc7e578629a0f||FileWithLineNum=/Users/mac/go/src/github.com/go_gateway/dao/service_info.go:94||rows=0||current_time=2022-04-01 17:59:48||traceid=0a0a0af16246cd14d860070d658221b0||cspanid=
[INFO][2022-04-01T17:59:48.791][log.go:44] _com_request_out||args=map[]||from=127.0.0.1||proc_time=0.004793605||uri=/service/service_add_http||method=POST||traceid=0a0a0af16246cd14d860070d658221b0||cspanid=||spanid=684cc7e578629a0f||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a0a0af16246cd14d860070d658221b0\",\"stack\":\"github.com/zhj/go_gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/mac/go/src/github.com/go_gateway/controller/service.go:218\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.TranslationMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/translation.go:168\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.SessionAuthMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RequestLog.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/zhj/go_gateway/middleware.RecoveryMiddleware.func1\\n\\t/Users/mac/go/src/github.com/go_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/mac/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}
